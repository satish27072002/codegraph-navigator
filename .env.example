# Copy to .env and fill in values.
# Zip upload ingestion only (GitHub URL ingestion removed).

OPENAI_API_KEY=
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_TIMEOUT_SEC=30
OPENAI_EMBED_TIMEOUT_SEC=30
OPENAI_EMBED_MAX_RETRIES=8
OPENAI_EMBED_BACKOFF_BASE_SEC=0.5
OPENAI_EMBED_BACKOFF_MAX_SEC=10
OPENAI_EMBEDDING_DIMENSIONS=
ENABLE_EMBEDDINGS=true
DEBUG_ENV=false
TOP_K=10

# Core services
NEO4J_URL=bolt://neo4j:7687
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=
POSTGRES_URL=postgresql://jobs:jobs@postgres:5432/jobs
REDIS_URL=redis://redis:6379/0

# Gateway and frontend
CORS_ORIGINS=http://localhost:3000
VITE_API_BASE=
SERVICE_TIMEOUT_SEC=30

# Worker pipeline tuning
PIPELINE_EMBED_TIMEOUT_SEC=1800
PIPELINE_EMBED_MAX_RETRIES=2
PIPELINE_EMBED_BACKOFF_BASE_SEC=1
PIPELINE_EMBED_BACKOFF_MAX_SEC=30
GRAPH_LOAD_TIMEOUT_SEC=30

# Workers — ingest limits
DATA_DIR=/data
MAX_ZIP_MB=50
MAX_FILES=20000
MAX_TOTAL_UNZIPPED_MB=500
MAX_SNIPPET_CHARS=2000
KG_MAX_FILE_BYTES=262144
KG_ALLOWED_EXTENSIONS=.py,.js,.jsx,.ts,.tsx,.java,.go,.rs
GRAPH_EMBED_TIMEOUT_SEC=1800
KG_LOAD_TIMEOUT_SEC=1800

# Graph service — embedding and KG extraction
EMBEDDING_BATCH_SIZE=50
EMBEDDING_MAX_TEXT_CHARS=12000
KG_CHUNK_SIZE_CHARS=1200
KG_CHUNK_OVERLAP_CHARS=200
KG_EXTRACT_RETRIES=2
LLM_SERVICE_TIMEOUT_SEC=60

# Retrieval service
KG_LINKED_ENTITY_LIMIT=12
KG_SUBGRAPH_LIMIT=300

# LLM service
MAX_CONTEXT_SNIPPETS=8
MAX_LLM_SNIPPET_CHARS=1200
MAX_GRAPH_EDGES_FOR_PROMPT=40
